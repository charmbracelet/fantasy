---
version: 2
interactions:
  - id: 0
    request:
      proto: HTTP/1.1
      proto_major: 1
      proto_minor: 1
      content_length: 466
      host: ""
      body: '{"messages":[{"content":"You are a helpful assistant","role":"system"},{"content":"What''s the weather in Florence?","role":"user"}],"model":"moonshotai/kimi-k2-0905","tool_choice":"auto","tools":[{"function":{"name":"weather","strict":false,"description":"Get weather information for a location","parameters":{"properties":{"location":{"description":"the city","type":"string"}},"required":["location"],"type":"object"}},"type":"function"}],"usage":{"include":true}}'
      headers:
        Accept:
          - application/json
        Content-Type:
          - application/json
        User-Agent:
          - OpenAI/Go 2.3.0
      url: https://openrouter.ai/api/v1/chat/completions
      method: POST
    response:
      proto: HTTP/2.0
      proto_major: 2
      proto_minor: 0
      content_length: -1
      uncompressed: true
      body: "\n         \n\n         \n\n         \n\n         \n\n         \n\n         \n{\"id\":\"gen-1758536664-UaCYJMs4TUDzzENXVnwe\",\"provider\":\"Moonshot AI\",\"model\":\"moonshotai/kimi-k2-0905\",\"object\":\"chat.completion\",\"created\":1758536664,\"choices\":[{\"logprobs\":null,\"finish_reason\":\"tool_calls\",\"native_finish_reason\":\"tool_calls\",\"index\":0,\"message\":{\"role\":\"assistant\",\"content\":\"I'll check the weather in Florence for you.\",\"refusal\":null,\"reasoning\":null,\"tool_calls\":[{\"index\":0,\"id\":\"weather:0\",\"type\":\"function\",\"function\":{\"name\":\"weather\",\"arguments\":\"{\\\"location\\\": \\\"Florence\\\"}\"}}]}}],\"system_fingerprint\":\"fpv0_f0f625a1\",\"usage\":{\"prompt_tokens\":74,\"completion_tokens\":27,\"total_tokens\":101,\"cost\":0.0001119,\"is_byok\":false,\"prompt_tokens_details\":{\"cached_tokens\":0,\"audio_tokens\":0},\"cost_details\":{\"upstream_inference_cost\":null,\"upstream_inference_prompt_cost\":0.0000444,\"upstream_inference_completions_cost\":0.0000675},\"completion_tokens_details\":{\"reasoning_tokens\":0,\"image_tokens\":0}}}"
      headers:
        Content-Type:
          - application/json
      status: 200 OK
      code: 200
      duration: 1.69516625s
  - id: 1
    request:
      proto: HTTP/1.1
      proto_major: 1
      proto_minor: 1
      content_length: 728
      host: ""
      body: "{\"messages\":[{\"content\":\"You are a helpful assistant\",\"role\":\"system\"},{\"content\":\"What's the weather in Florence?\",\"role\":\"user\"},{\"content\":\"I'll check the weather in Florence for you.\",\"tool_calls\":[{\"id\":\"weather:0\",\"function\":{\"arguments\":\"{\\\"location\\\": \\\"Florence\\\"}\",\"name\":\"weather\"},\"type\":\"function\"}],\"role\":\"assistant\"},{\"content\":\"40 C\",\"tool_call_id\":\"weather:0\",\"role\":\"tool\"}],\"model\":\"moonshotai/kimi-k2-0905\",\"tool_choice\":\"auto\",\"tools\":[{\"function\":{\"name\":\"weather\",\"strict\":false,\"description\":\"Get weather information for a location\",\"parameters\":{\"properties\":{\"location\":{\"description\":\"the city\",\"type\":\"string\"}},\"required\":[\"location\"],\"type\":\"object\"}},\"type\":\"function\"}],\"usage\":{\"include\":true}}"
      headers:
        Accept:
          - application/json
        Content-Type:
          - application/json
        User-Agent:
          - OpenAI/Go 2.3.0
      url: https://openrouter.ai/api/v1/chat/completions
      method: POST
    response:
      proto: HTTP/2.0
      proto_major: 2
      proto_minor: 0
      content_length: -1
      uncompressed: true
      body: '{"id":"gen-1758536667-pQdDoWxSJHoNqbKNl5gW","provider":"Novita","model":"moonshotai/kimi-k2-0905","object":"chat.completion","created":1758536667,"choices":[{"logprobs":null,"finish_reason":"stop","native_finish_reason":"stop","index":0,"message":{"role":"assistant","content":"The weather in Florence is currently 40°C (104°F). It`s quite hot there!","refusal":null,"reasoning":null}}],"system_fingerprint":"fpv0_f0f625a1","usage":{"prompt_tokens":120,"completion_tokens":19,"total_tokens":139,"cost":0.0001195,"is_byok":false,"prompt_tokens_details":{"cached_tokens":0,"audio_tokens":0},"cost_details":{"upstream_inference_cost":null,"upstream_inference_prompt_cost":0.000072,"upstream_inference_completions_cost":0.0000475},"completion_tokens_details":{"reasoning_tokens":0,"image_tokens":0}}}'
      headers:
        Content-Type:
          - application/json
      status: 200 OK
      code: 200
      duration: 1.608302625s
