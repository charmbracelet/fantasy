---
version: 2
interactions:
  - id: 0
    request:
        proto: HTTP/1.1
        proto_major: 1
        proto_minor: 1
        content_length: 509
        host: generativelanguage.googleapis.com
        body: |
            {"contents":[{"parts":[{"text":"What's the weather in Florence,Italy?"}],"role":"user"}],"generationConfig":{"maxOutputTokens":4000},"systemInstruction":{"parts":[{"text":"You are a helpful assistant"}],"role":"user"},"toolConfig":{"functionCallingConfig":{"mode":"AUTO"}},"tools":[{"functionDeclarations":[{"description":"Get weather information for a location","name":"weather","parameters":{"properties":{"location":{"description":"the city","type":"STRING"}},"required":["location"],"type":"OBJECT"}}]}]}
        headers:
            Content-Type:
              - application/json
            User-Agent:
              - google-genai-sdk/1.23.0 gl-go/go1.25.1
        url: https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-pro:generateContent
        method: POST
    response:
        proto: HTTP/2.0
        proto_major: 2
        proto_minor: 0
        content_length: -1
        uncompressed: true
        body: |
            {
              "candidates": [
                {
                  "content": {
                    "parts": [
                      {
                        "functionCall": {
                          "name": "weather",
                          "args": {
                            "location": "Florence, Italy"
                          }
                        },
                        "thoughtSignature": "CtkEAdHtim8vRS2q1TrAJdxVzvbHAeN0QbQAxCL0vvQyS4N+jnaAROjFe/JfRm0AorpQwVb54O4bSeJY+Z7KC+fvGGVBX0GsrBxovx6ekQGfiUee4CI/sl6QpXoHc0go3sAl5Lmem2aSWbVkmNUz02PvcVvt8E4y2unBFPbmho4yM7hNDwOP1Rlr1GAjjTyapXMBJFPC6PHAUZXtOEmGc3xMur89XZrt1YAQuW/FOliDSYSmSZbu+DiEWu0UrGnwKXVq7vPpB939rowjTKN35sW0iifbEy2AQm0WfPyD6Qcwejx2K1RHcesW7G2Syn/07ckElPDJNXjt1rKdpBD63RuaqfyIfNXLfXWTIsb2T/wh1X8FCBQl0802uN5khAkRfhMmGkD53lp874f62Yph8c68Wbogkbl9NvH8t4ZWaa5K+lT4jAJXHOtkiCOAiCxsHaYz/DHxmghcPL8kZomsoFCKq/Q2HsBgDu1piTm6Oj2dUs1hCO0pa8Q5jjpwS64ASDC9JZYYpOoQUWmtlth1KR3C8UxDa0WIS7by6QTA7mY0cQSr3XEQcn1UHnc0FFCoolR2PJxOK2n7ZFLPn3b+RDme0urxYoF3GAZOvGBf/bY9tNV5WYamVPX633iXJE6KZb2WxvbYEeEg8khe09/sQmPffQ9/Br7PAdCyrgGKfHqwkWQP/dI/5Wq4cIfmHtBIwBQlRo3eG3fz9yAyJZh/dLa2V7Y7R/fShTf7f4TUdtnRR3u1DghargS9thMZQ9KBx1/CNCcBu2P8f/H3SJ7rJqtN4YA7e01eDLVRVg=="
                      }
                    ],
                    "role": "model"
                  },
                  "finishReason": "STOP",
                  "index": 0
                }
              ],
              "usageMetadata": {
                "promptTokenCount": 54,
                "candidatesTokenCount": 15,
                "totalTokenCount": 211,
                "promptTokensDetails": [
                  {
                    "modality": "TEXT",
                    "tokenCount": 54
                  }
                ],
                "thoughtsTokenCount": 142
              },
              "modelVersion": "gemini-2.5-pro",
              "responseId": "ZNXSaLjiNNTVxN8P_4XRCQ"
            }
        headers:
            Content-Type:
              - application/json; charset=UTF-8
        status: 200 OK
        code: 200
        duration: 2.822218166s
  - id: 1
    request:
        proto: HTTP/1.1
        proto_major: 1
        proto_minor: 1
        content_length: 735
        host: generativelanguage.googleapis.com
        body: |
            {"contents":[{"parts":[{"text":"What's the weather in Florence,Italy?"}],"role":"user"},{"parts":[{"functionCall":{"args":{"location":"Florence, Italy"},"id":"weather","name":"weather"}}],"role":"model"},{"parts":[{"functionResponse":{"id":"weather","name":"weather","response":{"result":"40 C"}}}],"role":"user"}],"generationConfig":{"maxOutputTokens":4000},"systemInstruction":{"parts":[{"text":"You are a helpful assistant"}],"role":"user"},"toolConfig":{"functionCallingConfig":{"mode":"AUTO"}},"tools":[{"functionDeclarations":[{"description":"Get weather information for a location","name":"weather","parameters":{"properties":{"location":{"description":"the city","type":"STRING"}},"required":["location"],"type":"OBJECT"}}]}]}
        headers:
            Content-Type:
              - application/json
            User-Agent:
              - google-genai-sdk/1.23.0 gl-go/go1.25.1
        url: https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-pro:generateContent
        method: POST
    response:
        proto: HTTP/2.0
        proto_major: 2
        proto_minor: 0
        content_length: -1
        uncompressed: true
        body: |
            {
              "candidates": [
                {
                  "content": {
                    "parts": [
                      {
                        "text": "The weather in Florence, Italy is 40 C. \n"
                      }
                    ],
                    "role": "model"
                  },
                  "finishReason": "STOP",
                  "index": 0
                }
              ],
              "usageMetadata": {
                "promptTokenCount": 84,
                "candidatesTokenCount": 12,
                "totalTokenCount": 96,
                "promptTokensDetails": [
                  {
                    "modality": "TEXT",
                    "tokenCount": 84
                  }
                ]
              },
              "modelVersion": "gemini-2.5-pro",
              "responseId": "ZtXSaPujMt_UxN8PwdDxuAI"
            }
        headers:
            Content-Type:
              - application/json; charset=UTF-8
        status: 200 OK
        code: 200
        duration: 1.956346125s
